<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Create Swap Memory for Linux instance | My Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Prerequisite
Verify that your file system supports the usage of swap files. For more information, see Swapfile on the BTRFS website. It is a best practice to check the latest file system documentation to confirm that your file system is supported.
Calculate the swap space size
Create a swap file
Note: It&rsquo;s a best practice to create swap space only on ephemeral storage instance store volumes.
Complete the following steps:">
    <meta name="generator" content="Hugo 0.138.0">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/swap/">
    

    <meta property="og:url" content="http://localhost:1313/posts/swap/">
  <meta property="og:site_name" content="My Hugo Site">
  <meta property="og:title" content="Create Swap Memory for Linux instance">
  <meta property="og:description" content="Prerequisite Verify that your file system supports the usage of swap files. For more information, see Swapfile on the BTRFS website. It is a best practice to check the latest file system documentation to confirm that your file system is supported. Calculate the swap space size
Create a swap file Note: It’s a best practice to create swap space only on ephemeral storage instance store volumes.
Complete the following steps:">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-06T22:57:07-08:00">
    <meta property="article:modified_time" content="2024-11-06T22:57:07-08:00">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="Swap">

  <meta itemprop="name" content="Create Swap Memory for Linux instance">
  <meta itemprop="description" content="Prerequisite Verify that your file system supports the usage of swap files. For more information, see Swapfile on the BTRFS website. It is a best practice to check the latest file system documentation to confirm that your file system is supported. Calculate the swap space size
Create a swap file Note: It’s a best practice to create swap space only on ephemeral storage instance store volumes.
Complete the following steps:">
  <meta itemprop="datePublished" content="2024-11-06T22:57:07-08:00">
  <meta itemprop="dateModified" content="2024-11-06T22:57:07-08:00">
  <meta itemprop="wordCount" content="313">
  <meta itemprop="keywords" content="Linux,Swap">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Create Swap Memory for Linux instance">
  <meta name="twitter:description" content="Prerequisite Verify that your file system supports the usage of swap files. For more information, see Swapfile on the BTRFS website. It is a best practice to check the latest file system documentation to confirm that your file system is supported. Calculate the swap space size
Create a swap file Note: It’s a best practice to create swap space only on ephemeral storage instance store volumes.
Complete the following steps:">

	  
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)']]                  
    },
    loader:{
      load: ['ui/safe']
    },
  };
</script>

  

  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        My Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/archives/archived" title="Archive page">
              Archive
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/categories/" title="Category page">
              Category
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/tags/" title="Tag page">
              Tag
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">Create Swap Memory for Linux instance</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2024-11-06T22:57:07-08:00">November 6, 2024</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h2 id="prerequisite">Prerequisite</h2>
<p>Verify that your file system supports the usage of swap files. For more information, see Swapfile on the BTRFS website. It is a best practice to check the latest file system documentation to confirm that your file system is supported.
Calculate the swap space size</p>
<h2 id="create-a-swap-file">Create a swap file</h2>
<p>Note: It&rsquo;s a best practice to create swap space only on ephemeral storage instance store volumes.</p>
<p>Complete the following steps:</p>
<ul>
<li>
<p>Run the dd command to create a swap file on the root file system.</p>
<p>Note: In the command, bs is the block size and count is the number of blocks. The size of the swap file is the block size option multiplied by the count option in the dd command. Adjust these values to determine the swap file size.</p>
<p>The block size that you specify must be less than the available memory on the instance, or you receive the memory exhausted error.</p>
<p>In the following example dd command, the swap file is 4 GB (128 MB x 32):</p>
</li>
</ul>
<pre tabindex="0"><code>$ sudo dd if=/dev/zero of=/swapfile bs=128M count=32
</code></pre><ul>
<li>To update the read and write permissions for the swap file, run the following command:</li>
</ul>
<pre tabindex="0"><code>$ sudo chmod 600 /swapfile
</code></pre><ul>
<li>To set up a Linux swap space, run the following command:</li>
</ul>
<pre tabindex="0"><code>$ sudo mkswap /swapfile
</code></pre><ul>
<li>To add the swap file to swap space and make the swap file available for immediate use, run the following command:</li>
</ul>
<pre tabindex="0"><code>$ sudo swapon /swapfile
</code></pre><ul>
<li>To verify that the procedure was successful, run the following command:</li>
</ul>
<pre tabindex="0"><code>$ sudo swapon -s
</code></pre><ul>
<li>To start the swap file at boot time, edit the /etc/fstab file. Open the file in the editor, and then run the following command:</li>
</ul>
<pre tabindex="0"><code>$ sudo vi /etc/fstab
</code></pre><ul>
<li>Add the following new line at the end of the file:</li>
</ul>
<pre tabindex="0"><code>/swapfile swap swap defaults 0 0
</code></pre><ul>
<li>Save the file, and then exit.</li>
</ul>
<p>Now you can see swap memory shows up with commands like <code>top</code>.</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/tags/linux/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Linux</a>
   </li>
  
   <li class="list di">
     <a href="/tags/swap/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Swap</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  My Hugo Site 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
